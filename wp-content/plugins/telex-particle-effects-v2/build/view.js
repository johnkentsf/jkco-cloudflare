document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".particle-effects-canvas").forEach(function(t){var e=t.getContext("2d"),a=parseInt(t.dataset.particleCount||"80"),n=t.dataset.particleColor||"#000000",o=parseFloat(t.dataset.particleSize||"3"),l=parseFloat(t.dataset.particleSpeed||"1"),i=t.dataset.lineColor||"#000000",r=parseFloat(t.dataset.lineDistance||"150"),c="true"===(t.dataset.loopAnimation||"true");function h(){t.width=t.offsetWidth,t.height=t.offsetHeight}h(),window.addEventListener("resize",h);for(var s=[],d=0;d<a;d++)s.push({x:Math.random()*t.width,y:Math.random()*t.height,vx:(Math.random()-.5)*l,vy:(Math.random()-.5)*l});var v=null,u=null,f=null;function x(e,a){var n=t.getBoundingClientRect();v=e-n.left,u=a-n.top,null===f&&g()}function y(){v=null,u=null}var p=t.closest(".wp-block-telex-block-telex-particle-effects")||t;function g(){var a=function(){e.clearRect(0,0,t.width,t.height);var a=0,h=null!==v&&null!==u;return s.forEach(function(d,f){if(h){var x=v-d.x,y=u-d.y,p=Math.sqrt(x*x+y*y);if(p<100&&p>0){var g=(100-p)/100;d.vx-=x/p*g*.5,d.vy-=y/p*g*.5}}d.x+=d.vx,d.y+=d.vy,(d.x<0||d.x>t.width)&&(d.vx*=-1,d.x=d.x<0?0:t.width),(d.y<0||d.y>t.height)&&(d.vy*=-1,d.y=d.y<0?0:t.height),c?(d.vx*=.99,d.vy*=.99,Math.sqrt(d.vx*d.vx+d.vy*d.vy)<.3*l&&(d.vx+=.1*(Math.random()-.5),d.vy+=.1*(Math.random()-.5))):(d.vx*=.97,d.vy*=.97),a+=Math.abs(d.vx)+Math.abs(d.vy),e.fillStyle=n,e.beginPath(),e.arc(d.x,d.y,o,0,2*Math.PI),e.fill();for(var m=f+1;m<s.length;m++){var M=s[m].x-d.x,E=s[m].y-d.y,L=Math.sqrt(M*M+E*E);L<r&&(e.strokeStyle=i,e.globalAlpha=1-L/r,e.lineWidth=1,e.beginPath(),e.moveTo(d.x,d.y),e.lineTo(s[m].x,s[m].y),e.stroke(),e.globalAlpha=1)}}),{totalSpeed:a,hasInteraction:h}}();f=!c&&!a.hasInteraction&&a.totalSpeed<.1?null:requestAnimationFrame(g)}p.addEventListener("mousemove",function(t){x(t.clientX,t.clientY)}),p.addEventListener("mouseleave",y),p.addEventListener("touchstart",function(t){t.touches.length>0&&x(t.touches[0].clientX,t.touches[0].clientY)},{passive:!0}),p.addEventListener("touchmove",function(t){t.touches.length>0&&x(t.touches[0].clientX,t.touches[0].clientY)},{passive:!0}),p.addEventListener("touchend",y),p.addEventListener("touchcancel",y),g()})});